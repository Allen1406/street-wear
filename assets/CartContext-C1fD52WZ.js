import{t as p,v as y,w,o as q,r as u,l as v}from"./chunk-XJI4KG32-CWcXHV3D.js";function P(s){return function(){const o={params:q(),loaderData:w(),actionData:y(),matches:p()};return u.createElement(s,o)}}const d=u.createContext(void 0);function m({children:s}){const[c,o]=u.useState([]),C=(a,r,n)=>{o(t=>t.find(e=>e.id===a.id&&e.selectedSize===r&&e.selectedColor===n)?t.map(e=>e.id===a.id&&e.selectedSize===r&&e.selectedColor===n?{...e,quantity:e.quantity+1}:e):[...t,{...a,quantity:1,selectedSize:r,selectedColor:n}])},l=a=>{o(r=>r.filter(n=>n.id!==a))},f=(a,r)=>{o(n=>n.map(t=>{if(t.id===a){const i=t.quantity+r;return i>0?{...t,quantity:i}:t}return t}).filter(t=>t.quantity>0))},x=()=>{o([])};return v.jsx(d.Provider,{value:{cartItems:c,addToCart:C,removeFromCart:l,updateQuantity:f,clearCart:x},children:s})}function D(){const s=u.useContext(d);if(s===void 0)throw new Error("useCart must be used within a CartProvider");return s}export{m as C,D as u,P as w};
